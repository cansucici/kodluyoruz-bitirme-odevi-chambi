<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="http://www.thymeleaf.org"
>
  <head th:replace="fragments/header :: header">
    <title>Yazar Listesi</title>
</head>

  <body>
    <nav th:replace="fragments/header :: navigation"></nav>
    <div class="container">
      <div>
        <a th:href="@{/saveAuthor}">
          <div class="btn btn-info">
            <i class="fas fa-plus-circle"></i> Yazar Ekle
          </div>
        </a>
        <h1>YAZARLAR</h1>
        <table class="table table-striped table-responsive">
          <thead>
            <tr>
              <th width="20%">Yazar Adı Soyadı</th>
              <th width="20%">Yazar Hakkında</th>
            </tr>
          </thead>

          <tbody>
            <tr th:each="authorDTO : ${listAuthors}">
              <td th:text="${authorDTO.nameSurname}"></td>
              <td th:text="${authorDTO.about}"></td>

              <td>
                <table>
                  <tr>
                    <td>
                      <a
                        th:href="@{/updateAuthor/{id}(id=${authorDTO.id})}"
                        class="btn btn-info"
                        th:method="GET"
                      >
                        <i class="fas fa-edit"></i> GÜNCELLE
                      </a>
                    </td>
                    <td>
                      <form
                        action="#"
                        th:action="@{/deleteAuthor/{id}(id = ${authorDTO.id})}"
                        th:method="POST"
                      >
                        <button
                          class="btn btn-danger"
                          type="submit"
                          id="deleteButton"
                        >
                          <i class="fas fa-trash"></i>
                          SİL
                        </button>
                      </form>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
